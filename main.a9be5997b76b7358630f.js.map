{"version":3,"sources":["webpack:///./script/templates/galleryCard.hbs","webpack:///./script/API/settings.js","webpack:///./script/API/fetchPopular.js","webpack:///./script/js/refs.js","webpack:///./script/js/pagination-api.js","webpack:///./script/API/fetchGenre.js","webpack:///./script/js/transformMovieObject.js","webpack:///./script/js/spinner.js","webpack:///./script/API/fetchFilter.js","webpack:///./script/js/search.js","webpack:///./script/API/fetchSearchMovie.js","webpack:///./script/js/movieFilter.js","webpack:///./script/js/popular-gallery.js","webpack:///./script/js/lightbox.js","webpack:///./script/API/fetchTrailer.js","webpack:///./script/API/fetchMovie.js","webpack:///./script/js/local-storage.js","webpack:///./script/js/firestorage.js","webpack:///./script/js/modalCard.js","webpack:///./script/js/students-lightbox.js","webpack:///./script/js/microphone.js","webpack:///./script/js/library.js","webpack:///./script/js/auth.js","webpack:///./script/js/scroll-to-top.js","webpack:///./script/templates/movieCard.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","BASE_URL","settings","API_KEY","PopularFilms","this","_page","result","fetchPopular","fetch","response","json","incrementPage","resetPage","decrementPage","value","refs","gallery","document","querySelector","modal","paginationWrapper","paginationPrevButton","paginationNextButton","authorsButton","paginationContainer","searchInputRef","noResultRef","microphone","registerForm","loginForm","signInModal","signUpBtn","signInBtn","logOutBtn","signUpModal","signUpNowBtn","spinner","homeBtn","libraryBtn","headerBg","searchWrap","libraryBtnsContainer","signinSpinner","signUpSpinner","filterInput","querySelectorAll","genrePicker","yearPicker","watchedBtn","queueBtn","filter","searchInput","scrollToTopBtn","Pagination","itemsPerPage","renderPaginationMarkup","currentPage","resultsAmount","pagination","TemplatePaginator","current","rowsPerPage","totalResult","slashSeparator","vw","Math","max","documentElement","clientWidth","window","innerWidth","html","pageCount","previous","range","length","forEach","item","index","next","last","render","apiGenreData","ganreObject","handleGenre","fetchGenre","ganreTranspiler","arr","arrayNameGenres","elem","genres","obj","id","push","name","reservImg","CONST","transformMovieObject","movies","title","slice","poster_path","release_date","genre_ids","join","Search","square","hideSpinner","classList","add","showSpinner","remove","MovieFilter","fetchMovies","genre","year","url","then","ok","catch","error","console","log","lastPage","FetchSearchMovie","searchQuery","page","newQuery","apiSearchData","handlerInput","e","query","createCard","res","scrollTo","innerHTML","createMarkup","results","total_pages","textContent","removeEventListener","showPrevPopPage","showNextPopPage","showSelectedPopPage","showPrevFilterPage","showNextFilterPage","showSelectedFilterPage","addEventListener","showPrevSearchPage","showNextSearchPage","showSelectedSearchPage","total_results","setTimeout","_debounce","target","activePageNumber","nodeName","isNaN","movieFilter","endYear","Date","getFullYear","years","insertAdjacentHTML","i","yearPickerMenu","yearValue","genreValue","event","fetchPopularMovie","Lightbox","getRefs","infoCard","lightbox","overlay","closeBtn","openLightbox","preventDefault","body","style","overflow","closeLightbox","closeOnKeydown","code","runTrailer","trailerID","trailerName","fetchTrailer","movieTrailer","tmdbId","apiKey","fetchTrailerByName","idByName","markupTrailer","showTrailerModal","markup","basicLightbox","show","MovieApi","fetchMovie","FilmsStorage","_watchedFilms","_filmsQueue","refreshData","localStorage","getItem","JSON","parse","addToWatchedFilm","saveWatchedFilms","disabled","showWatchedFilms","removeWathedFilm","splice","setItem","stringify","savedFilms","PNotify","info","text","delay","watchedFilmsMarkup","object","element","getWathedListFromLS","addToQueue","saveFilmsQueue","showFilmsQueue","removeFromQueue","queue","filmsQueueMarkup","getQueueFromLS","firebase","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","FireStorage","user","_watched","_queue","addToWatchedList","showWatched","removeFromWathedList","collection","doc","uid","set","list","getWatchedFromStorage","get","films","addToQueueList","saveQueueFilms","showQueue","removeFromQueueList","getQueueFromStorage","queueFilmsMarkup","movieInfo","filmsStorage","map","popularity","parseFloat","toFixed","movieCard","curElement","parentNode","addToWathedBtn","addToQueueBtn","auth","onAuthStateChanged","firestorage","some","contains","replace","watched","findIndex","film","watchedFilms","filmsQueue","dataset","instance","onShow","onClose","listenSpeech","transcript","Array","from","isFinal","stopRecognition","hendlerInput","startRecognition","recognition","start","stop","SpeechRecognition","webkitSpeechRecognition","lang","interimResults","display","hendlerHomeBtn","btns","getElementsByClassName","currentUser","watchedClickBtn","queueClickBtn","hendlerLibraryBtn","className","showPassBtn","fieldPass","FilmStorage","success","password","email","pass","secondpass","createUserWithEmailAndPassword","userCredential","location","reload","errorMessage","message","signInWithEmailAndPassword","finally","provider","GoogleAuthProvider","hideSignInModal","currentTarget","hideSignUpModal","hideSignInEsc","key","hideSignUpEsc","signInWithRedirect","getRedirectResult","credential","type","signOut","mobileDevice","matchMedia","handleDeviceChange","matches","addListener","rootElement","trottle","scrollTotal","scrollHeight","clientHeight","scrollTop","scrollBtnHandler","top","behavior"],"mappings":"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","file":"main.a9be5997b76b7358630f.js","sourcesContent":["var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movies__list-item\\\">\\r\\n    <img class=\\\"movie__poster\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":51}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":58},\"end\":{\"line\":3,\"column\":67}}}) : helper)))\n    + \" poster\\\" id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":80},\"end\":{\"line\":3,\"column\":86}}}) : helper)))\n    + \"\\\" loading=\\\"lazy\\\">\\r\\n\\r\\n    <p class=\\\" movie__name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":28},\"end\":{\"line\":5,\"column\":37}}}) : helper)))\n    + \"</p>\\r\\n    <p class=\\\"movie__genre\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre_ids\") || (depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre_ids\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":28},\"end\":{\"line\":6,\"column\":41}}}) : helper)))\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":44},\"end\":{\"line\":6,\"column\":60}}}) : helper)))\n    + \"</p>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":8,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export default {\r\n  BASE_URL: 'https://api.themoviedb.org/3',\r\n  API_KEY: 'dc8a219507b80e9a1079e61c31f6a77a',\r\n  reservImg:\r\n    'data:image/jpeg;base64,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',\r\n};\r\n","import settings from './settings';\r\nconst BASE_URL = settings.BASE_URL;\r\nconst API_KEY = settings.API_KEY;\r\n\r\nexport default class PopularFilms {\r\n  constructor() {\r\n    this._page = 1;\r\n    this.result;\r\n  }\r\n  async fetchPopular() {\r\n    const response = await fetch(\r\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${this._page}`,\r\n    );\r\n    return response.json();\r\n  }\r\n\r\n  incrementPage() {\r\n    this._page = +this._page + 1;\r\n  }\r\n  resetPage() {\r\n    this._page = 1;\r\n  }\r\n  decrementPage() {\r\n    this._page = +this._page - 1;\r\n  }\r\n  get page() {\r\n    return this._page;\r\n  }\r\n  set page(value) {\r\n    this._page = value;\r\n  }\r\n}\r\n","const refs = {\r\n  gallery: document.querySelector('.movies__list'),\r\n  modal: document.querySelector('.lightbox__card'),\r\n  paginationWrapper: document.querySelector('.js-pagination-wrapper'),\r\n  paginationPrevButton: document.querySelector('.pagination-prev-button'),\r\n  paginationNextButton: document.querySelector('.pagination-next-button'),\r\n  authorsButton: document.querySelector('.footer_container__authors__button'),\r\n  paginationContainer: document.querySelector('.movies__pagination-container'),\r\n  searchInputRef: document.querySelector('input[name=\"search\"]'),\r\n  noResultRef: document.querySelector('.no-results'),\r\n  microphone: document.querySelector('.microphone'),\r\n  registerForm: document.querySelector('.modal__form-registration'),\r\n  loginForm: document.querySelector('.modal__form-login'),\r\n  signInModal: document.querySelector('.backdrop[data-modal-signin]'),\r\n  signUpBtn: document.querySelector('.user-box__signup'),\r\n  signInBtn: document.querySelector('.user-box__signin'),\r\n  logOutBtn: document.querySelector('.logout-js'),\r\n  signUpModal: document.querySelector('.backdrop[data-modal-signup]'),\r\n  signUpNowBtn: document.querySelector('.signup-now__button'),\r\n  spinner: document.querySelector('.square'),\r\n  homeBtn: document.querySelector('#home-button'),\r\n  libraryBtn: document.querySelector('#library-button'),\r\n  headerBg: document.querySelector('.header__background'),\r\n  searchWrap: document.querySelector('.search__input-wrapper'),\r\n  libraryBtnsContainer: document.querySelector('.button-container'),\r\n  signinSpinner: document.querySelector('.signin-spinner'),\r\n  signUpSpinner: document.querySelector('.signup-spinner'),\r\n  filterInput: document.querySelectorAll('.filter-input'),\r\n  genrePicker: document.querySelector('#genrepicker'),\r\n  yearPicker: document.querySelector('#yearpicker'),\r\n  watchedBtn: document.querySelector('.watched-button'),\r\n  queueBtn: document.querySelector('.queue-button'),\r\n  filter: document.querySelector('.filter-section'),\r\n  searchInput: document.querySelector('.search__input'),\r\n  scrollToTopBtn: document.querySelector('.scrollToTopBtn'),\r\n};\r\n\r\nexport default refs;\r\n","import pagination from 'pagination';\r\n\r\nexport default class Pagination {\r\n  constructor() {\r\n    this.itemsPerPage = 20;\r\n  }\r\n\r\n  renderPaginationMarkup(currentPage, resultsAmount) {\r\n    const boostrapPaginator = new pagination.TemplatePaginator({\r\n      current: currentPage,\r\n      rowsPerPage: this.itemsPerPage,\r\n      totalResult: resultsAmount,\r\n      slashSeparator: true,\r\n      template: function (result) {\r\n        const vw = Math.max(\r\n          document.documentElement.clientWidth || 0,\r\n          window.innerWidth || 0,\r\n        );\r\n        let html = '<div><ul class=\"paginator\">';\r\n        if (result.pageCount < 2) {\r\n          html += '</ul></div>';\r\n          return html;\r\n        }\r\n        if (result.previous && result.current >= 4 && vw > 768) {\r\n          html +=\r\n            '<li class=\"page-item\">' +\r\n            1 +\r\n            '</li>' +\r\n            '<li class=\"page-item\">' +\r\n            '&middot&middot&middot' +\r\n            '</li>';\r\n        }\r\n        if (result.range.length) {\r\n          result.range.forEach((item, index) => {\r\n            if (result.range[index] === result.current) {\r\n              html +=\r\n                '<li class=\"active page-item\">' + result.range[index] + '</li>';\r\n            } else {\r\n              html += '<li class=\"page-item\">' + result.range[index] + '</li>';\r\n            }\r\n          });\r\n        }\r\n        if (result.next && result.current <= result.last - 3 && vw > 768) {\r\n          html +=\r\n            '<li class=\"page-item\">' +\r\n            '&middot&middot&middot' +\r\n            '</li>' +\r\n            '<li class=\"page-item\">' +\r\n            result.last +\r\n            '</li>';\r\n        }\r\n        html += '</ul></div>';\r\n        return html;\r\n      },\r\n    });\r\n    return boostrapPaginator.render();\r\n  }\r\n}\r\n","import settings from './settings';\r\nconst BASE_URL = settings.BASE_URL;\r\nconst API_KEY = settings.API_KEY;\r\n\r\nexport default class FetchGenre {\r\n  constructor() {\r\n    this.ganreObject = {};\r\n    this.handleGenre();\r\n  }\r\n\r\n  async fetchGenre() {\r\n    const response = await fetch(\r\n      `${BASE_URL}/genre/movie/list?api_key=${API_KEY}`,\r\n    );\r\n    return response.json();\r\n  }\r\n  async handleGenre() {\r\n    this.ganreObject = await this.fetchGenre();\r\n  }\r\n  ganreTranspiler(arr) {\r\n    const arrayNameGenres = [];\r\n    arr.forEach(elem =>\r\n      this.ganreObject.genres\r\n        .filter(obj => obj.id === elem)\r\n        .forEach(obj => arrayNameGenres.push(obj.name)),\r\n    );\r\n    return arrayNameGenres;\r\n  }\r\n}\r\n","import FetchGenre from '../API/fetchGenre';\r\nimport CONST from '../API/settings';\r\n\r\nconst apiGenreData = new FetchGenre();\r\nconst { reservImg } = CONST;\r\n\r\nexport default function transformMovieObject(movies) {\r\n  movies.forEach(elem => {\r\n    if (elem.title.length > 38) {\r\n      elem.title = elem.title.slice(0, 38) + '...';\r\n    }\r\n    elem.poster_path\r\n      ? (elem.poster_path = `https://image.tmdb.org/t/p/w500/${elem.poster_path}`)\r\n      : (elem.poster_path = reservImg);\r\n    elem.release_date\r\n      ? (elem.release_date = elem.release_date.slice(0, 4))\r\n      : (elem.release_date = 'Unknown');\r\n    if (elem.genre_ids.length > 0) {\r\n      elem.genre_ids = apiGenreData\r\n        .ganreTranspiler(elem.genre_ids)\r\n        .slice(0, 3)\r\n        .join(', ');\r\n    } else {\r\n      elem.genre_ids = 'Unknown';\r\n    }\r\n  });\r\n  return movies;\r\n}\r\n","export default class Search {\r\n  constructor() {\r\n    this.square = document.querySelector('.square');\r\n  }\r\n  hideSpinner() {\r\n    this.square.classList.add('is-hidden');\r\n  }\r\n  showSpinner() {\r\n    this.square.classList.remove('is-hidden');\r\n  }\r\n}\r\n","import settings from './settings';\r\n\r\nconst { BASE_URL, API_KEY } = settings;\r\n\r\nexport default class MovieFilter {\r\n  constructor() {\r\n    this._page = 1;\r\n  }\r\n  fetchMovies(genre, year) {\r\n    const url = `${BASE_URL}/discover/movie?with_genres=${genre}&primary_release_year=${year}&sort_by=popularity.desc&api_key=${API_KEY}&page=${this._page}`;\r\n    return fetch(url)\r\n      .then(response => (response.ok ? response.json() : []))\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  incrementPage() {\r\n    this._page = +this._page + 1;\r\n  }\r\n  resetPage() {\r\n    this._page = 1;\r\n  }\r\n  decrementPage() {\r\n    this._page = +this._page - 1;\r\n  }\r\n  get page() {\r\n    return this._page;\r\n  }\r\n  set page(value) {\r\n    this._page = value;\r\n  }\r\n}\r\n","import refs from './refs';\r\nimport FetchSearchMovie from '../API/fetchSearchMovie';\r\nimport Pagination from './pagination-api';\r\nimport createMarkup from '../templates/galleryCard.hbs';\r\nimport Search from './spinner';\r\nimport _debounce from 'lodash.debounce';\r\nimport transformMovieObject from './transformMovieObject';\r\nimport {\r\n  showPrevPopPage,\r\n  showNextPopPage,\r\n  showSelectedPopPage,\r\n} from './popular-gallery';\r\nimport {\r\n  showPrevFilterPage,\r\n  showNextFilterPage,\r\n  showSelectedFilterPage,\r\n} from './movieFilter';\r\n\r\nconst {\r\n  searchInputRef,\r\n  gallery,\r\n  noResultRef,\r\n  paginationWrapper,\r\n  paginationPrevButton,\r\n  paginationNextButton,\r\n  paginationContainer,\r\n  searchWrap,\r\n  genrePicker,\r\n  yearPicker,\r\n} = refs;\r\n\r\nconst apiSearchData = new FetchSearchMovie();\r\nconst pagination = new Pagination();\r\nconst spinner = new Search();\r\n\r\nlet lastPage;\r\n\r\nsearchInputRef.addEventListener(\r\n  'input',\r\n  _debounce(e => {\r\n    let targetValue = e.target.value;\r\n    handlerInput(targetValue);\r\n  }, 500),\r\n);\r\n\r\nfunction handlerInput(e) {\r\n  apiSearchData.query = e;\r\n  genrePicker.value = '';\r\n  yearPicker.value = '';\r\n  if (searchInputRef.value === '') {\r\n    searchWrap.classList.remove('without-after-el');\r\n    return;\r\n  }\r\n  searchWrap.classList.add('without-after-el');\r\n  apiSearchData.resetPage();\r\n  createCard();\r\n}\r\n\r\nfunction createCard() {\r\n  apiSearchData\r\n    .fetchMovies()\r\n    .then(res => {\r\n      scrollWin();\r\n      spinner.showSpinner();\r\n      if (res === []) return;\r\n      gallery.innerHTML = createMarkup(transformMovieObject(res.results));\r\n      // pagination\r\n\r\n      lastPage = res.total_pages;\r\n\r\n      if (res.total_pages > 1) {\r\n        noResultRef.textContent = '';\r\n        paginationContainer.classList.remove('visually-hidden');\r\n        paginationPrevButton.classList.remove('hidden');\r\n        paginationNextButton.classList.remove('hidden');\r\n\r\n        paginationPrevButton.removeEventListener('click', showPrevPopPage);\r\n        paginationNextButton.removeEventListener('click', showNextPopPage);\r\n        paginationWrapper.removeEventListener('click', showSelectedPopPage);\r\n\r\n        paginationPrevButton.removeEventListener('click', showPrevFilterPage);\r\n        paginationNextButton.removeEventListener('click', showNextFilterPage);\r\n        paginationWrapper.removeEventListener('click', showSelectedFilterPage);\r\n\r\n        paginationPrevButton.addEventListener('click', showPrevSearchPage);\r\n        paginationNextButton.addEventListener('click', showNextSearchPage);\r\n        paginationWrapper.addEventListener('click', showSelectedSearchPage);\r\n        paginationWrapper.innerHTML = pagination.renderPaginationMarkup(\r\n          apiSearchData.page,\r\n          res.total_results,\r\n        );\r\n      } else {\r\n        paginationWrapper.innerHTML = null;\r\n        paginationPrevButton.classList.add('hidden');\r\n        paginationNextButton.classList.add('hidden');\r\n      }\r\n      if (res.total_results === 0 || res.total_results === '') {\r\n        noResults();\r\n        paginationContainer.classList.add('visually-hidden');\r\n      }\r\n      spinner.hideSpinner();\r\n    })\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nfunction noResults() {\r\n  noResultRef.textContent =\r\n    'Search result not successful. Enter the correct movie name and try again';\r\n  setTimeout(function () {\r\n    noResultRef.textContent = '';\r\n  }, 2000);\r\n}\r\n\r\nconst showPrevSearchPage = () => {\r\n  if (apiSearchData.page < 2) return;\r\n  apiSearchData.decrementPage();\r\n  createCard();\r\n};\r\nconst showNextSearchPage = () => {\r\n  const activePageNumber = document.querySelector('li.active');\r\n  if (lastPage === +activePageNumber.textContent) return;\r\n  apiSearchData.incrementPage();\r\n  createCard();\r\n};\r\nconst showSelectedSearchPage = e => {\r\n  if (e.target.nodeName === 'LI') {\r\n    if (isNaN(e.target.textContent)) return;\r\n    apiSearchData.page = e.target.textContent;\r\n    createCard();\r\n  }\r\n};\r\nfunction scrollWin() {\r\n  window.scrollTo(0, 0);\r\n}\r\n\r\nexport default handlerInput;\r\nexport { showPrevSearchPage, showNextSearchPage, showSelectedSearchPage };\r\n","import CONST from './settings';\r\nconst { BASE_URL, API_KEY } = CONST;\r\n\r\nexport default class FetchSearchMovie {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this._page = 1;\r\n  }\r\n\r\n  async fetchMovies() {\r\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${this.searchQuery}&page=${this.page}`;\r\n    return await fetch(url).then(response =>\r\n      response.ok ? response.json() : [],\r\n    );\r\n  }\r\n\r\n  incrementPage() {\r\n    this._page = +this._page + 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this._page = 1;\r\n  }\r\n\r\n  decrementPage() {\r\n    this._page = +this._page - 1;\r\n  }\r\n  get page() {\r\n    return this._page;\r\n  }\r\n  set page(value) {\r\n    this._page = value;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n","import MovieFilter from '../API/fetchFilter';\r\nimport PopularFilms from '../API/fetchPopular';\r\nimport refs from '../js/refs';\r\nimport createMarkup from '../templates/galleryCard.hbs';\r\nimport Search from './spinner';\r\nimport transformMovieObject from './transformMovieObject';\r\nimport Pagination from './pagination-api';\r\nimport {\r\n  showPrevPopPage,\r\n  showNextPopPage,\r\n  showSelectedPopPage,\r\n} from './popular-gallery';\r\nimport {\r\n  showPrevSearchPage,\r\n  showNextSearchPage,\r\n  showSelectedSearchPage,\r\n} from './search';\r\n\r\nconst spinner = new Search();\r\nconst movieFilter = new MovieFilter();\r\nconst fetchPopularMovie = new PopularFilms();\r\nconst pagination = new Pagination();\r\n\r\nyearPickerMenu();\r\n\r\nlet yearValue = '';\r\nlet genreValue = '';\r\n\r\nrefs.filterInput.forEach(item => {\r\n  item.addEventListener('change', event => {\r\n    movieFilter.resetPage();\r\n    refs.searchInput.value = '';\r\n    yearValue = refs.yearPicker.value;\r\n    genreValue = refs.genrePicker.value;\r\n    createCard(genreValue, yearValue);\r\n  });\r\n});\r\n\r\nlet lastPage;\r\n\r\nfunction createCard(genre, year) {\r\n  movieFilter.fetchMovies(genre, year).then(res => {\r\n    scrollWin();\r\n    lastPage = res.total_pages;\r\n    spinner.showSpinner();\r\n    refs.gallery.innerHTML = createMarkup(transformMovieObject(res.results));\r\n    // pagination\r\n    if (res.total_results > 20) {\r\n      refs.paginationPrevButton.classList.remove('hidden');\r\n      refs.paginationNextButton.classList.remove('hidden');\r\n\r\n      refs.paginationPrevButton.removeEventListener('click', showPrevPopPage);\r\n      refs.paginationNextButton.removeEventListener('click', showNextPopPage);\r\n      refs.paginationWrapper.removeEventListener('click', showSelectedPopPage);\r\n\r\n      refs.paginationPrevButton.removeEventListener(\r\n        'click',\r\n        showPrevSearchPage,\r\n      );\r\n      refs.paginationNextButton.removeEventListener(\r\n        'click',\r\n        showNextSearchPage,\r\n      );\r\n      refs.paginationWrapper.removeEventListener(\r\n        'click',\r\n        showSelectedSearchPage,\r\n      );\r\n\r\n      refs.paginationPrevButton.addEventListener('click', showPrevFilterPage);\r\n      refs.paginationNextButton.addEventListener('click', showNextFilterPage);\r\n      refs.paginationWrapper.addEventListener('click', showSelectedFilterPage);\r\n      refs.paginationWrapper.innerHTML = pagination.renderPaginationMarkup(\r\n        movieFilter.page,\r\n        res.total_results,\r\n      );\r\n    } else {\r\n      // refs.paginationWrapper.innerHTML = null;\r\n      refs.paginationPrevButton.classList.add('hidden');\r\n      refs.paginationNextButton.classList.add('hidden');\r\n    }\r\n    spinner.hideSpinner();\r\n  });\r\n}\r\n\r\nfunction scrollWin() {\r\n  window.scrollTo(0, 230);\r\n}\r\n\r\n//pagination callbacks\r\nconst showPrevFilterPage = () => {\r\n  if (movieFilter.page < 2) return;\r\n  movieFilter.decrementPage();\r\n  createCard(genreValue, yearValue);\r\n};\r\nconst showNextFilterPage = () => {\r\n  const activePageNumber = document.querySelector('li.active');\r\n  if (lastPage === +activePageNumber.textContent) return;\r\n  movieFilter.incrementPage();\r\n  createCard(genreValue, yearValue);\r\n};\r\nconst showSelectedFilterPage = e => {\r\n  if (e.target.nodeName === 'LI') {\r\n    if (isNaN(e.target.textContent)) return;\r\n    movieFilter.page = e.target.textContent;\r\n    createCard(genreValue, yearValue);\r\n  }\r\n};\r\n\r\nfunction yearPickerMenu() {\r\n  let startYear = 1900;\r\n  let endYear = new Date().getFullYear();\r\n  let years = [];\r\n\r\n  refs.yearPicker.insertAdjacentHTML(\r\n    'beforeend',\r\n    '<option value=\"\">Choose year</option>',\r\n  );\r\n  for (let i = endYear; i > startYear; i--) {\r\n    years.push(`<option value=\"${i}\">${i}</option>`);\r\n  }\r\n  refs.yearPicker.insertAdjacentHTML('beforeend', years);\r\n}\r\nexport { showPrevFilterPage, showNextFilterPage, showSelectedFilterPage };\r\n","import PopularFilms from '../API/fetchPopular';\r\nimport refs from '../js/refs';\r\nimport createMarkup from '../templates/galleryCard.hbs';\r\nimport Pagination from './pagination-api';\r\nimport transformMovieObject from './transformMovieObject';\r\nimport Search from './spinner';\r\nimport {\r\n  showPrevFilterPage,\r\n  showNextFilterPage,\r\n  showSelectedFilterPage,\r\n} from './movieFilter';\r\nimport {\r\n  showPrevSearchPage,\r\n  showNextSearchPage,\r\n  showSelectedSearchPage,\r\n} from './search';\r\n\r\nconst fetchPopularMovie = new PopularFilms();\r\nconst pagination = new Pagination();\r\n\r\nconst spinner = new Search();\r\n\r\nlet lastPage;\r\n\r\nfunction createCard() {\r\n  spinner.showSpinner();\r\n  fetchPopularMovie\r\n    .fetchPopular()\r\n    .then(res => {\r\n      scrollWin();\r\n\r\n      lastPage = res.total_pages;\r\n\r\n      refs.gallery.innerHTML = createMarkup(transformMovieObject(res.results));\r\n      // pagination\r\n      if (res.total_results > 20) {\r\n        refs.paginationPrevButton.classList.remove('hidden');\r\n        refs.paginationNextButton.classList.remove('hidden');\r\n\r\n        refs.paginationPrevButton.removeEventListener(\r\n          'click',\r\n          showPrevFilterPage,\r\n        );\r\n        refs.paginationNextButton.removeEventListener(\r\n          'click',\r\n          showNextFilterPage,\r\n        );\r\n        refs.paginationWrapper.removeEventListener(\r\n          'click',\r\n          showSelectedFilterPage,\r\n        );\r\n\r\n        refs.paginationPrevButton.removeEventListener(\r\n          'click',\r\n          showPrevSearchPage,\r\n        );\r\n        refs.paginationNextButton.removeEventListener(\r\n          'click',\r\n          showNextSearchPage,\r\n        );\r\n        refs.paginationWrapper.removeEventListener(\r\n          'click',\r\n          showSelectedSearchPage,\r\n        );\r\n\r\n        refs.paginationPrevButton.addEventListener('click', showPrevPopPage);\r\n        refs.paginationNextButton.addEventListener('click', showNextPopPage);\r\n        refs.paginationWrapper.addEventListener('click', showSelectedPopPage);\r\n        refs.paginationWrapper.innerHTML = pagination.renderPaginationMarkup(\r\n          fetchPopularMovie.page,\r\n          res.total_results,\r\n        );\r\n      } else {\r\n        refs.paginationWrapper.innerHTML = null;\r\n        refs.paginationPrevButton.classList.add('hidden');\r\n        refs.paginationNextButton.classList.add('hidden');\r\n      }\r\n      spinner.hideSpinner();\r\n    })\r\n    .catch(error => console.log(console.error()));\r\n}\r\nfetchPopularMovie.resetPage();\r\ncreateCard();\r\n\r\nconst showPrevPopPage = () => {\r\n  if (fetchPopularMovie.page < 2) return;\r\n  fetchPopularMovie.decrementPage();\r\n  createCard();\r\n};\r\nconst showNextPopPage = () => {\r\n  const activePageNumber = document.querySelector('li.active');\r\n\r\n  if (lastPage === +activePageNumber.textContent) return;\r\n\r\n  fetchPopularMovie.incrementPage();\r\n\r\n  createCard();\r\n};\r\nconst showSelectedPopPage = e => {\r\n  if (e.target.nodeName === 'LI') {\r\n    if (isNaN(e.target.textContent)) return;\r\n    fetchPopularMovie.page = e.target.textContent;\r\n    createCard();\r\n  }\r\n};\r\nfunction scrollWin() {\r\n  window.scrollTo(0, 230);\r\n}\r\n\r\nexport default createCard;\r\nexport { showPrevPopPage, showNextPopPage, showSelectedPopPage };\r\n","import { createMarkup } from './modalCard';\r\nexport default class Lightbox {\r\n  constructor() {\r\n    this.refs = this.getRefs();\r\n  }\r\n\r\n  getRefs() {\r\n    const refs = {};\r\n    refs.infoCard = document.querySelector('.lightbox__card');\r\n    refs.lightbox = document.querySelector('.js-lightbox');\r\n    refs.overlay = document.querySelector('.lightbox__overlay');\r\n    refs.closeBtn = document.querySelector(\r\n      'button[data-action=\"close-lightbox\"]',\r\n    );\r\n    return refs;\r\n  }\r\n  openLightbox(event) {\r\n    event.preventDefault();\r\n    if (event.target.nodeName !== 'IMG') return;\r\n    createMarkup(event);\r\n    this.refs.lightbox.classList.add('is-open');\r\n    document.body.style.overflow = 'hidden';\r\n    this.refs.overlay.addEventListener('click', () => this.closeLightbox());\r\n    this.refs.closeBtn.addEventListener('click', () => this.closeLightbox());\r\n    window.addEventListener('keydown', event => this.closeOnKeydown(event));\r\n  }\r\n  closeLightbox() {\r\n    this.refs.lightbox.classList.remove('is-open');\r\n    document.body.style.overflow = 'visible';\r\n    this.refs.infoCard.innerHTML = '';\r\n    this.refs.overlay.removeEventListener('click', () => this.closeLightbox());\r\n    this.refs.closeBtn.removeEventListener('click', () => this.closeLightbox());\r\n    window.removeEventListener('keydown', event => this.closeOnKeydown(event));\r\n  }\r\n  closeOnKeydown(event) {\r\n    if (event.code === 'Escape') {\r\n      this.closeLightbox();\r\n    }\r\n  }\r\n}\r\n","import movieTrailer from 'movie-trailer';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport settings from './settings';\r\n\r\nexport default class runTrailer {\r\n  constructor(trailerID, trailerName) {\r\n    this.trailerID = trailerID;\r\n    this.trailerName = trailerName;\r\n  }\r\n\r\n  async fetchTrailer() {\r\n    const id = await movieTrailer(null, {\r\n      tmdbId: this.trailerID,\r\n      apiKey: settings.API_KEY,\r\n      id: true,\r\n    });\r\n    return id !== null ? id : this.fetchTrailerByName();\r\n  }\r\n\r\n  async fetchTrailerByName() {\r\n    const idByName = await movieTrailer(this.trailerName, {\r\n      apiKey: settings.API_KEY,\r\n      id: true,\r\n    });\r\n    return idByName !== null ? idByName : '_vECE5BJbA0';\r\n  }\r\n\r\n  markupTrailer(id) {\r\n    return `<iframe src=\"https://www.youtube.com/embed/${id}?rel=0&autoplay=1\" frameborder=\"0\" allow=\"autoplay; fullscreen\" class=\"trailer-tag\" include></iframe>`;\r\n  }\r\n\r\n  showTrailerModal(markup) {\r\n    return basicLightbox.create(markup).show();\r\n  }\r\n\r\n  show() {\r\n    this.fetchTrailer().then(this.markupTrailer).then(this.showTrailerModal);\r\n  }\r\n}\r\n","import settings from './settings';\r\n\r\nconst { BASE_URL, API_KEY } = settings;\r\n\r\nexport default class MovieApi {\r\n  constructor() {}\r\n  fetchMovie(id) {\r\n    const url = `${BASE_URL}/movie/${id}?api_key=${API_KEY}`;\r\n    return fetch(url)\r\n      .then(response => (response.ok ? response.json() : []))\r\n      .catch(error => console.log(error));\r\n  }\r\n}\r\n","import refs from './refs';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/app';\r\nimport PNotify from '../../../node_modules/pnotify/dist/es/PNotify.js';\r\n\r\nexport default class FilmsStorage {\r\n  constructor() {\r\n    this._watchedFilms = [];\r\n    this._filmsQueue = [];\r\n    this.refreshData();\r\n  }\r\n  refreshData() {\r\n    if (localStorage.getItem('films-queue')) {\r\n      this._filmsQueue = JSON.parse(localStorage.getItem('films-queue'));\r\n    }\r\n    if (localStorage.getItem('watched-films')) {\r\n      this._watchedFilms = JSON.parse(localStorage.getItem('watched-films'));\r\n    }\r\n  }\r\n  //watched\r\n  addToWatchedFilm(item) {\r\n    this._watchedFilms.push(item);\r\n    this.saveWatchedFilms();\r\n    if (refs.libraryBtn.disabled && refs.watchedBtn.disabled)\r\n      this.showWatchedFilms();\r\n  }\r\n  removeWathedFilm(index) {\r\n    this._watchedFilms.splice(index, 1);\r\n    this.saveWatchedFilms();\r\n    if (refs.libraryBtn.disabled && refs.watchedBtn.disabled)\r\n      this.showWatchedFilms();\r\n  }\r\n  saveWatchedFilms() {\r\n    localStorage.setItem('watched-films', JSON.stringify(this._watchedFilms));\r\n  }\r\n  showWatchedFilms() {\r\n    const savedFilms = localStorage.getItem('watched-films');\r\n    refs.watchedBtn.disabled = true;\r\n    refs.queueBtn.disabled = false;\r\n    if (!savedFilms) {\r\n      PNotify.info({\r\n        text: 'Your watchedlist is empty.',\r\n        delay: 1000,\r\n      });\r\n      refs.gallery.innerHTML = null;\r\n      return;\r\n    }\r\n    let watchedFilmsMarkup = '';\r\n    JSON.parse(savedFilms).forEach(object => {\r\n      watchedFilmsMarkup +=\r\n        '<li class=\"movies__list-item\">' + object.element + '</li>';\r\n    });\r\n\r\n    refs.gallery.innerHTML = watchedFilmsMarkup;\r\n  }\r\n  getWathedListFromLS() {\r\n    if (!localStorage.getItem('watched-films')) return;\r\n    this._watchedFilms = JSON.parse(localStorage.getItem('watched-films'));\r\n  }\r\n  get watchedFilms() {\r\n    return this._watchedFilms;\r\n  }\r\n\r\n  //queue\r\n  addToQueue(item) {\r\n    this._filmsQueue.push(item);\r\n    this.saveFilmsQueue();\r\n    if (refs.libraryBtn.disabled && refs.queueBtn.disabled)\r\n      this.showFilmsQueue();\r\n  }\r\n  removeFromQueue(index) {\r\n    this._filmsQueue.splice(index, 1);\r\n    this.saveFilmsQueue();\r\n    if (refs.libraryBtn.disabled && refs.queueBtn.disabled)\r\n      this.showFilmsQueue();\r\n  }\r\n  saveFilmsQueue() {\r\n    localStorage.setItem('films-queue', JSON.stringify(this._filmsQueue));\r\n  }\r\n  showFilmsQueue() {\r\n    const queue = localStorage.getItem('films-queue');\r\n    refs.queueBtn.disabled = true;\r\n    refs.watchedBtn.disabled = false;\r\n    if (!queue) {\r\n      PNotify.info({\r\n        text: 'Your queue is empty.',\r\n        delay: 1000,\r\n      });\r\n      refs.gallery.innerHTML = null;\r\n      return;\r\n    }\r\n    let filmsQueueMarkup = '';\r\n    JSON.parse(queue).forEach(object => {\r\n      filmsQueueMarkup +=\r\n        '<li class=\"movies__list-item\">' + object.element + '</li>';\r\n    });\r\n\r\n    refs.gallery.innerHTML = filmsQueueMarkup;\r\n  }\r\n  getQueueFromLS() {\r\n    if (!localStorage.getItem('films-queue')) return;\r\n    this._filmsQueue = JSON.parse(localStorage.getItem('films-queue'));\r\n  }\r\n  get filmsQueue() {\r\n    return this._filmsQueue;\r\n  }\r\n}\r\n","import refs from './refs';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/app';\r\nimport PNotify from '../../../node_modules/pnotify/dist/es/PNotify.js';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyD5Lz8Xolb4aTDugqG9oqiD3TvNrCFheKg',\r\n  authDomain: 'filmoteka-d2783.firebaseapp.com',\r\n  projectId: 'filmoteka-d2783',\r\n  storageBucket: 'filmoteka-d2783.appspot.com',\r\n  messagingSenderId: '870527658773',\r\n  appId: '1:870527658773:web:6c74f3043e4340ced1d71c',\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\n\r\nexport default class FireStorage {\r\n  constructor(user) {\r\n    this._watched = [];\r\n    this._queue = [];\r\n    this.user = user;\r\n  }\r\n  get watched() {\r\n    return this._watched;\r\n  }\r\n  get queue() {\r\n    return this._queue;\r\n  }\r\n  addToWatchedList(item) {\r\n    this._watched.push(item);\r\n    this.saveWatchedFilms();\r\n    if (refs.libraryBtn.disabled && refs.watchedBtn.disabled)\r\n      this.showWatched(this._watched);\r\n  }\r\n  removeFromWathedList(index) {\r\n    this._watched.splice(index, 1);\r\n    this.saveWatchedFilms();\r\n    if (refs.libraryBtn.disabled && refs.watchedBtn.disabled)\r\n      this.showWatched(this._watched);\r\n  }\r\n\r\n  saveWatchedFilms() {\r\n    db.collection('users')\r\n      .doc(this.user.uid)\r\n      .collection('Watched')\r\n      .doc('Markup')\r\n      .set({ list: JSON.stringify(this._watched) });\r\n  }\r\n  async getWatchedFromStorage() {\r\n    const data = await db\r\n      .collection('users')\r\n      .doc(this.user.uid)\r\n      .collection('Watched')\r\n      .doc('Markup')\r\n      .get();\r\n    if (data.data()) {\r\n      const savedFilms = data.data().list;\r\n      if (!savedFilms) {\r\n        PNotify.info({\r\n          text: 'Your watchedlist is empty.',\r\n          delay: 1000,\r\n        });\r\n        refs.gallery.innerHTML = null;\r\n        return;\r\n      }\r\n      JSON.parse(savedFilms).forEach(object => {\r\n        this._watched.push(object);\r\n      });\r\n      return JSON.parse(savedFilms);\r\n    }\r\n  }\r\n  showWatched(films) {\r\n    refs.watchedBtn.disabled = true;\r\n    refs.queueBtn.disabled = false;\r\n    let watchedFilmsMarkup = '';\r\n    films.forEach(object => {\r\n      watchedFilmsMarkup +=\r\n        '<li class=\"movies__list-item\">' + object.element + '</li>';\r\n    });\r\n    refs.gallery.innerHTML = watchedFilmsMarkup;\r\n  }\r\n  addToQueueList(item) {\r\n    this._queue.push(item);\r\n    this.saveQueueFilms();\r\n    if (refs.libraryBtn.disabled && refs.queueBtn.disabled)\r\n      this.showQueue(this._queue);\r\n  }\r\n  removeFromQueueList(index) {\r\n    this._queue.splice(index, 1);\r\n    this.saveQueueFilms();\r\n    if (refs.libraryBtn.disabled && refs.queueBtn.disabled)\r\n      this.showQueue(this._queue);\r\n  }\r\n\r\n  saveQueueFilms() {\r\n    db.collection('users')\r\n      .doc(this.user.uid)\r\n      .collection('Queue')\r\n      .doc('Markup')\r\n      .set({ list: JSON.stringify(this._queue) });\r\n  }\r\n  async getQueueFromStorage() {\r\n    const data = await db\r\n      .collection('users')\r\n      .doc(this.user.uid)\r\n      .collection('Queue')\r\n      .doc('Markup')\r\n      .get();\r\n    if (data.data()) {\r\n      const savedFilms = data.data().list;\r\n      if (!savedFilms) {\r\n        PNotify.info({\r\n          text: 'Your watchedlist is empty.',\r\n          delay: 1000,\r\n        });\r\n        refs.gallery.innerHTML = null;\r\n        return;\r\n      }\r\n      JSON.parse(savedFilms).forEach(object => {\r\n        this._queue.push(object);\r\n      });\r\n      return JSON.parse(savedFilms);\r\n    }\r\n  }\r\n  showQueue(films) {\r\n    refs.queueBtn.disabled = true;\r\n    refs.watchedBtn.disabled = false;\r\n    let queueFilmsMarkup = '';\r\n    films.forEach(object => {\r\n      queueFilmsMarkup +=\r\n        '<li class=\"movies__list-item\">' + object.element + '</li>';\r\n    });\r\n    refs.gallery.innerHTML = queueFilmsMarkup;\r\n  }\r\n}\r\n","import Lightbox from './lightbox';\r\nimport refs from './refs';\r\nimport runTrailer from '../API/fetchTrailer';\r\nimport settings from '../API/settings';\r\nimport MovieApi from '../API/fetchMovie';\r\nimport movieCard from '../templates/movieCard.hbs';\r\nimport FilmsStorage from './local-storage';\r\nimport FireStorage from './firestorage';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/app';\r\n\r\nconst { reservImg } = settings;\r\nconst { gallery } = refs;\r\nconst movieInfo = new MovieApi();\r\nconst lightbox = new Lightbox();\r\nconst filmsStorage = new FilmsStorage();\r\nlet firestorage = null;\r\ngallery.addEventListener('click', event => lightbox.openLightbox(event));\r\n\r\nconst createMarkup = function (event) {\r\n  movieInfo.fetchMovie(event.target.id).then(result => {\r\n    result.poster_path\r\n      ? (result.poster_path = `https://image.tmdb.org/t/p/w500/${result.poster_path}`)\r\n      : (result.poster_path = reservImg);\r\n    const genres = result.genres.map(item => item.name);\r\n    result.genres = genres.join(', ');\r\n    result.popularity = parseFloat(result.popularity).toFixed(1);\r\n    lightbox.refs.infoCard.insertAdjacentHTML('beforeend', movieCard(result));\r\n\r\n    const curElement = {\r\n      id: event.target.id,\r\n      element: event.target.parentNode.innerHTML,\r\n    };\r\n    const addToWathedBtn = document.querySelector('.modal-button-watched');\r\n    const addToQueueBtn = document.querySelector('.modal-button-queue');\r\n    //watched\r\n    firebase.auth().onAuthStateChanged(function (user) {\r\n      if (user) {\r\n        const firestorage = new FireStorage(user);\r\n        firestorage.getWatchedFromStorage().then(result => {\r\n          if (result && result.some(element => element.id === curElement.id)) {\r\n            addToWathedBtn.classList.add('ableToRemove');\r\n            addToWathedBtn.textContent = 'remove from viewed';\r\n          } else {\r\n            addToWathedBtn.classList.add('ableToAdd');\r\n            addToWathedBtn.textContent = 'add to watched';\r\n          }\r\n        });\r\n        addToWathedBtn.addEventListener('click', watchedBtnHandler);\r\n        function watchedBtnHandler() {\r\n          if (addToWathedBtn.classList.contains('ableToAdd')) {\r\n            firestorage.addToWatchedList(curElement);\r\n            addToWathedBtn.classList.replace('ableToAdd', 'ableToRemove');\r\n            addToWathedBtn.textContent = 'remove from viewed';\r\n          } else {\r\n            const index = firestorage.watched.findIndex(\r\n              film => film.id === curElement.id,\r\n            );\r\n            firestorage.removeFromWathedList(index);\r\n            addToWathedBtn.classList.replace('ableToRemove', 'ableToAdd');\r\n            addToWathedBtn.textContent = 'add to watched';\r\n          }\r\n        }\r\n        firestorage.getQueueFromStorage().then(result => {\r\n          if (result && result.some(element => element.id === curElement.id)) {\r\n            addToQueueBtn.classList.add('ableToRemove');\r\n            addToQueueBtn.textContent = 'remove from queue';\r\n          } else {\r\n            addToQueueBtn.classList.add('ableToAdd');\r\n            addToQueueBtn.textContent = 'add to queue';\r\n          }\r\n        });\r\n        addToQueueBtn.addEventListener('click', queueBtnHandler);\r\n        function queueBtnHandler() {\r\n          if (addToQueueBtn.classList.contains('ableToAdd')) {\r\n            firestorage.addToQueueList(curElement);\r\n            addToQueueBtn.classList.replace('ableToAdd', 'ableToRemove');\r\n            addToQueueBtn.textContent = 'remove from queue';\r\n            console.log(firestorage);\r\n          } else {\r\n            const index = firestorage.queue.findIndex(\r\n              film => film.id === curElement.id,\r\n            );\r\n            firestorage.removeFromQueueList(index);\r\n            addToQueueBtn.classList.replace('ableToRemove', 'ableToAdd');\r\n            addToQueueBtn.textContent = 'add to queue';\r\n          }\r\n        }\r\n      } else {\r\n        if (\r\n          filmsStorage.watchedFilms.length &&\r\n          filmsStorage.watchedFilms.some(\r\n            element => element.id === curElement.id,\r\n          )\r\n        ) {\r\n          addToWathedBtn.classList.add('ableToRemove');\r\n          addToWathedBtn.textContent = 'remove from viewed';\r\n        } else {\r\n          addToWathedBtn.classList.add('ableToAdd');\r\n          addToWathedBtn.textContent = 'add to watched';\r\n        }\r\n        const watchedBtnHandler = () => {\r\n          if (addToWathedBtn.classList.contains('ableToAdd')) {\r\n            filmsStorage.addToWatchedFilm(curElement);\r\n            addToWathedBtn.classList.replace('ableToAdd', 'ableToRemove');\r\n            addToWathedBtn.textContent = 'remove from viewed';\r\n          } else {\r\n            const index = filmsStorage.watchedFilms.findIndex(\r\n              film => film.id === curElement.id,\r\n            );\r\n            filmsStorage.removeWathedFilm(index);\r\n\r\n            addToWathedBtn.classList.replace('ableToRemove', 'ableToAdd');\r\n            addToWathedBtn.textContent = 'add to watched';\r\n          }\r\n        };\r\n        addToWathedBtn.addEventListener('click', watchedBtnHandler);\r\n        if (\r\n          filmsStorage.filmsQueue.length &&\r\n          filmsStorage.filmsQueue.some(element => element.id === curElement.id)\r\n        ) {\r\n          addToQueueBtn.classList.add('ableToRemove');\r\n          addToQueueBtn.textContent = 'remove from queue';\r\n        } else {\r\n          addToQueueBtn.classList.add('ableToAdd');\r\n          addToQueueBtn.textContent = 'add to queue';\r\n        }\r\n        const queueBtnHandler = () => {\r\n          if (addToQueueBtn.classList.contains('ableToAdd')) {\r\n            filmsStorage.addToQueue(curElement);\r\n            addToQueueBtn.classList.replace('ableToAdd', 'ableToRemove');\r\n            addToQueueBtn.textContent = 'remove from queue';\r\n          } else {\r\n            const index = filmsStorage.filmsQueue.findIndex(\r\n              film => film.id === curElement.id,\r\n            );\r\n            filmsStorage.removeFromQueue(index);\r\n            addToQueueBtn.classList.replace('ableToRemove', 'ableToAdd');\r\n            addToQueueBtn.textContent = 'add to queue';\r\n          }\r\n        };\r\n        addToQueueBtn.addEventListener('click', queueBtnHandler);\r\n      }\r\n    });\r\n    //trailer\r\n    const trailerBtn = document.querySelector('.play-trailer');\r\n    trailerBtn.addEventListener('click', event => {\r\n      new runTrailer(event.target.dataset.id, event.target.dataset.name).show();\r\n    });\r\n  });\r\n};\r\nexport default firestorage;\r\nexport { createMarkup };\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport refs from './refs';\r\n\r\nconst template = document.querySelector('#st-light-box-template')\r\n\r\nconst instance = basicLightbox.create(template, {\r\n  onShow: () => {\r\n    document.body.style.overflow = 'hidden';\r\n  },\r\n  onClose: () => {\r\n    document.body.style.overflow = 'visible';\r\n  },\r\n});\r\n\r\nrefs.authorsButton.addEventListener('click', instance.show);\r\n","import refs from './refs';\r\nimport hendlerInput from './search';\r\n\r\ntry {\r\n  window.SpeechRecognition =\r\n    window.SpeechRecognition || window.webkitSpeechRecognition;\r\n\r\n  const recognition = new SpeechRecognition();\r\n  recognition.lang = 'en-US';\r\n  recognition.interimResults = true;\r\n\r\n  refs.microphone.addEventListener('click', clickOnMicrophone);\r\n\r\n  function clickOnMicrophone() {\r\n    if (!refs.microphone.classList.contains('active-microphone')) {\r\n      refs.microphone.classList.add('active-microphone');\r\n      startRecognition();\r\n      return;\r\n    }\r\n    refs.microphone.classList.remove('active-microphone');\r\n    stopRecognition();\r\n  }\r\n\r\n  function listenSpeech(e) {\r\n    let transcript = Array.from(e.results)\r\n      .map(result => result[0].transcript)\r\n      .join('');\r\n    //  transcript = transcript[0].toUpperCase() + transcript.slice(1);\r\n    refs.searchInputRef.value = transcript;\r\n\r\n    if (e.results[0].isFinal) {\r\n      stopRecognition();\r\n      refs.microphone.classList.remove('active-microphone');\r\n      hendlerInput(transcript);\r\n    }\r\n  }\r\n\r\n  function startRecognition() {\r\n    recognition.addEventListener('result', listenSpeech);\r\n    recognition.start();\r\n  }\r\n\r\n  function stopRecognition() {\r\n    recognition.stop();\r\n    recognition.removeEventListener('result', listenSpeech);\r\n  }\r\n} catch {\r\n  refs.microphone.style.display = 'none';\r\n}\r\n","import refs from './refs';\r\nimport createCard from './popular-gallery';\r\nimport hendlerInput from './search';\r\nimport FilmsStorage from './local-storage';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/app';\r\nimport FireStorage from './firestorage';\r\n\r\nconst filmsStorage = new FilmsStorage();\r\n\r\nconst {\r\n  homeBtn,\r\n  libraryBtn,\r\n  headerBg,\r\n  searchWrap,\r\n  searchInputRef,\r\n  libraryBtnsContainer,\r\n  gallery,\r\n  paginationContainer,\r\n  filter,\r\n  watchedBtn,\r\n  queueBtn,\r\n  yearPicker,\r\n  genrePicker,\r\n} = refs;\r\n\r\nhomeBtn.addEventListener('click', e => hendlerHomeBtn(e));\r\nlibraryBtn.addEventListener('click', e => hendlerLibraryBtn(e));\r\n\r\nexport default function hendlerHomeBtn(e) {\r\n  libraryBtn.disabled = false;\r\n  homeBtn.disabled = true;\r\n  watchedBtn.disabled = false;\r\n  queueBtn.disabled = false;\r\n\r\n  headerBg.classList.remove('library__background');\r\n  libraryBtn.classList.remove('current');\r\n  homeBtn.classList.add('current');\r\n  searchWrap.classList.remove('visually-hidden');\r\n  libraryBtnsContainer.classList.add('visually-hidden');\r\n  filter.classList.remove('visually-hidden');\r\n  searchInputRef.value = '';\r\n  createCard();\r\n  paginationContainer.classList.remove('visually-hidden');\r\n  for (let i = 0; i < btns.length; i++) {\r\n    const current = libraryBtnsContainer.getElementsByClassName('activeBtn');\r\n    if (current.length > 0) {\r\n      current[i].classList.remove('activeBtn');\r\n    }\r\n  }\r\n  yearPicker.value = '';\r\n  genrePicker.value = '';\r\n}\r\n\r\nfunction hendlerLibraryBtn(e) {\r\n  libraryBtn.disabled = true;\r\n  homeBtn.disabled = false;\r\n  watchedBtn.disabled = true;\r\n  queueBtn.disabled = false;\r\n\r\n  homeBtn.classList.remove('current');\r\n  libraryBtn.classList.add('current');\r\n  watchedBtn.classList.add('activeBtn');\r\n  headerBg.classList.add('library__background');\r\n  searchWrap.classList.add('visually-hidden');\r\n  libraryBtnsContainer.classList.remove('visually-hidden');\r\n  filter.classList.add('visually-hidden');\r\n  gallery.innerHTML = '';\r\n\r\n  const user = firebase.auth().currentUser;\r\n  const firestorage = new FireStorage(user);\r\n  const watchedClickBtn = () => {\r\n    firestorage.getWatchedFromStorage().then(res => {\r\n      firestorage.showWatched(res);\r\n    });\r\n  };\r\n  const queueClickBtn = () => {\r\n    firestorage.getQueueFromStorage().then(res => {\r\n      firestorage.showQueue(res);\r\n    });\r\n  };\r\n  if (user) {\r\n    firestorage.getWatchedFromStorage().then(res => {\r\n      firestorage.showWatched(res);\r\n    });\r\n    watchedBtn.removeEventListener('click', filmsStorage.showWatchedFilms);\r\n    queueBtn.removeEventListener('click', filmsStorage.showFilmsQueue);\r\n\r\n    watchedBtn.addEventListener('click', watchedClickBtn);\r\n    queueBtn.addEventListener('click', queueClickBtn);\r\n  } else {\r\n    filmsStorage.showWatchedFilms();\r\n    watchedBtn.removeEventListener('click', watchedClickBtn);\r\n    queueBtn.removeEventListener('click', queueClickBtn);\r\n    watchedBtn.addEventListener('click', filmsStorage.showWatchedFilms);\r\n    queueBtn.addEventListener('click', filmsStorage.showFilmsQueue);\r\n  }\r\n\r\n\r\n  // watchedBtn.classList.add('activeBtn');\r\n  \r\n  paginationContainer.classList.add('visually-hidden');\r\n}\r\n\r\nconst btns = libraryBtnsContainer.getElementsByClassName('button');\r\n\r\nfor (let i = 0; i < btns.length; i++) {\r\n  btns[i].addEventListener('click', function () {\r\n    const current = libraryBtnsContainer.getElementsByClassName(' activeBtn');\r\n\r\n    if (current.length > 0) {\r\n      current[0].className = current[0].className.replace(' activeBtn', '');\r\n    }\r\n\r\n    this.className += ' activeBtn';\r\n  });\r\n}\r\n","import 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/app';\r\nimport refs from './refs';\r\nimport PNotify from '../../../node_modules/pnotify/dist/es/PNotify.js';\r\nimport hendlerHomeBtn from './library';\r\nimport FilmStorage from './local-storage';\r\n\r\nconst showPassBtn = document.querySelector('.show-pass');\r\nconst fieldPass = document.querySelector('.pass-js');\r\nconst filmStorage = new FilmStorage();\r\n\r\nconst db = firebase.firestore();\r\n//Check is signet\r\nfirebase.auth().onAuthStateChanged(function (user) {\r\n  if (user) {\r\n    // User is signed in.\r\n    hendlerHomeBtn();\r\n    refs.signUpBtn.classList.add('is-hidden');\r\n    refs.signInBtn.classList.add('is-hidden');\r\n    refs.logOutBtn.classList.remove('is-hidden');\r\n    \r\n    // takeFromDB(user);\r\n\r\n    PNotify.success({\r\n      title: 'Success!',\r\n      text: 'You have successfully signed in.',\r\n      delay: 1000,\r\n    });\r\n  } else {\r\n    // No user is signed in.\r\n    refs.signUpBtn.classList.remove('is-hidden');\r\n    refs.signInBtn.classList.remove('is-hidden');\r\n    refs.logOutBtn.classList.add('is-hidden');\r\n  }\r\n});\r\n// Create account\r\nrefs.registerForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  let password = '';\r\n  const email = e.target.email.value;\r\n  if (e.target.pass.value === e.target.secondpass.value) {\r\n    password = e.target.pass.value;\r\n  } else {\r\n    PNotify.error({\r\n      title: 'Error',\r\n      text: 'Passwords did not match',\r\n      delay: 1000,\r\n    });\r\n  }\r\n  refs.signUpSpinner.classList.remove('is-hidden');\r\n  document.querySelector('.signup-wpapper').classList.add('load');\r\n  firebase\r\n    .auth()\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then(userCredential => {\r\n      // Signed in\r\n      const user = userCredential.user;\r\n      document.body.style.overflow = 'visible';\r\n      document.querySelector('.signup-wpapper').classList.remove('load');\r\n      // clearLokalStorage();\r\n      PNotify.success({\r\n        title: 'Success!',\r\n        text: 'Your account successfully created.',\r\n        delay: 1000,\r\n      });\r\n    })\r\n    .then(() => {\r\n      refs.signUpSpinner.classList.add('is-hidden');\r\n      refs.signUpModal.classList.add('is-hidden');\r\n      e.target.email.value = null;\r\n      e.target.pass.value = null;\r\n      e.target.secondpass.value = null;\r\n      window.location.reload(); //!\r\n    })\r\n    .catch(error => {\r\n      document.querySelector('.signup-wpapper').classList.remove('load');\r\n      refs.signUpSpinner.classList.add('is-hidden');\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      PNotify.error({\r\n        title: 'Error',\r\n        text: errorMessage,\r\n        delay: 1000,\r\n      });\r\n    });\r\n});\r\n\r\n// Singin\r\nrefs.loginForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n\r\n  const email = e.target.email.value;\r\n  const password = e.target.pass.value;\r\n  refs.signinSpinner.classList.remove('is-hidden');\r\n  document.querySelector('.signin-wpapper').classList.add('load');\r\n  firebase\r\n    .auth()\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then(userCredential => {\r\n      // Signed in\r\n      const user = userCredential.user;\r\n      document.body.style.overflow = 'visible';\r\n      document.querySelector('.signin-wpapper').classList.remove('load');\r\n    })\r\n    .then(() => {\r\n      refs.signInModal.classList.add('is-hidden');\r\n      e.target.email.value = null;\r\n      e.target.pass.value = null;\r\n      window.location.reload(true); //!\r\n    })\r\n    .catch(e => {\r\n      const errorCode = e.code;\r\n      const errorMessage = e.message;\r\n      PNotify.error({\r\n        title: 'Error',\r\n        text: errorMessage,\r\n        delay: 1000,\r\n      });\r\n      document.querySelector('.signin-wpapper').classList.remove('load');\r\n    })\r\n    .finally(() => {\r\n      refs.signinSpinner.classList.add('is-hidden');\r\n      refs.loginForm.classList.remove('is-hidden');\r\n    });\r\n});\r\n//Google login\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nconst googleBtn = document.querySelector('.google-signin');\r\ngoogleBtn.addEventListener('click', () => {\r\n  firebase.auth().signInWithRedirect(provider);\r\n  firebase\r\n    .auth()\r\n    .getRedirectResult()\r\n    .then(result => {\r\n      if (result.credential) {\r\n        refs.signUpBtn.classList.add('is-hidden');\r\n        refs.signInBtn.classList.add('is-hidden');\r\n        refs.logOutBtn.classList.remove('is-hidden');\r\n        window.location.reload(); //!\r\n      }\r\n    })\r\n    .catch(error => {\r\n      // Handle Errors here.\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      // The email of the user's account used.\r\n      const email = error.email;\r\n      // The firebase.auth.AuthCredential type that was used.\r\n      const credential = error.credential;\r\n      // ...\r\n    });\r\n});\r\n\r\n//Modals closing\r\nrefs.signUpBtn.addEventListener('click', () => {\r\n  refs.signUpModal.classList.remove('is-hidden');\r\n  refs.signUpModal.addEventListener('click', hideSignUpModal);\r\n  window.addEventListener('keydown', hideSignUpEsc);\r\n  document.body.style.overflow = 'hidden';\r\n});\r\nrefs.signInBtn.addEventListener('click', () => {\r\n  showPassBtn.addEventListener('click', () => {\r\n    if (fieldPass.type === 'password') {\r\n      fieldPass.type = 'text';\r\n    } else {\r\n      fieldPass.type = 'password';\r\n    }\r\n  });\r\n  refs.signInModal.classList.remove('is-hidden');\r\n  document.body.style.overflow = 'hidden';\r\n  refs.signUpNowBtn.addEventListener('click', () => {\r\n    refs.signInModal.classList.add('is-hidden');\r\n    refs.signUpModal.classList.remove('is-hidden');\r\n    refs.signUpModal.addEventListener('click', hideSignUpModal);\r\n    window.addEventListener('keydown', hideSignUpEsc);\r\n  });\r\n  refs.signInModal.addEventListener('click', hideSignInModal);\r\n  window.addEventListener('keydown', hideSignInEsc);\r\n});\r\nrefs.logOutBtn.addEventListener('click', () => {\r\n\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(\r\n      PNotify.info({\r\n        text: 'You have been logged out.',\r\n        delay: 1000,\r\n      }),\r\n      location.reload(),\r\n      hendlerHomeBtn(),\r\n      \r\n      // clearLokalStorage(),\r\n    );\r\n});\r\nfunction hideSignInModal(e) {\r\n  if (e.target === e.currentTarget) {\r\n    refs.signInModal.classList.add('is-hidden');\r\n    document.body.style.overflow = 'visible';\r\n  }\r\n}\r\nfunction hideSignUpModal(e) {\r\n  if (e.target === e.currentTarget) {\r\n    refs.signUpModal.classList.add('is-hidden');\r\n    document.body.style.overflow = 'visible';\r\n  }\r\n}\r\nfunction hideSignInEsc(e) {\r\n  if (e.key === 'Escape') {\r\n    document.body.style.overflow = 'visible';\r\n    refs.signInModal.classList.add('is-hidden');\r\n  }\r\n}\r\nfunction hideSignUpEsc(e) {\r\n  if (e.key === 'Escape') {\r\n    document.body.style.overflow = 'visible';\r\n    refs.signUpModal.classList.add('is-hidden');\r\n  }\r\n}\r\n\r\n// hide signUpBtn in mobile screen\r\nconst mobileDevice = window.matchMedia('(max-width: 767px)');\r\n\r\nmobileDevice.addListener(handleDeviceChange);\r\n\r\nfunction handleDeviceChange(e) {\r\n  if (e.matches) {\r\n    refs.signUpBtn.classList.add('visually-hidden');\r\n  } else refs.signUpBtn.classList.remove('visually-hidden');\r\n}\r\n\r\nhandleDeviceChange(mobileDevice);\r\n","import refs from './refs';\r\nimport trottle from 'lodash.throttle';\r\n\r\nconst rootElement = document.documentElement;\r\nconst handleScroll = () => {\r\n  const scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;\r\n  if (rootElement.scrollTop / scrollTotal > 0.5) {\r\n    refs.scrollToTopBtn.classList.add('showBtn');\r\n    refs.scrollToTopBtn.addEventListener('click', scrollBtnHandler);\r\n  } else {\r\n    refs.scrollToTopBtn.classList.remove('showBtn');\r\n    refs.scrollToTopBtn.removeEventListener('click', scrollBtnHandler);\r\n  }\r\n};\r\n\r\ndocument.addEventListener('scroll', trottle(handleScroll, 500));\r\n\r\nconst scrollBtnHandler = () => {\r\n  rootElement.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"movie-card\\\">\\r\\n    <div class=\\\"movie-card__item\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":18},\"end\":{\"line\":3,\"column\":33}}}) : helper)))\n    + \"\\\" alt=\\\"Movie Poster\\\" class=\\\"movie-card__poster\\\"/>\\r\\n    </div>\\r\\n    <div class=\\\"movie-card__item\\\">\\r\\n        <h2 class=\\\"movie-card__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":38},\"end\":{\"line\":6,\"column\":47}}}) : helper)))\n    + \"</h2>\\r\\n            <ul class=\\\"movie-card__info\\\">\\r\\n                <li class=\\\"movie-card__info--item\\\">\\r\\n                    <h3 class=\\\"movie-card__info--title\\\">Vote / Votes</h3>\\r\\n                    <p class=\\\"movie-card__content--item\\\"><span class=\\\"movie-card__vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":88},\"end\":{\"line\":10,\"column\":104}}}) : helper)))\n    + \"</span> / \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":114},\"end\":{\"line\":10,\"column\":128}}}) : helper)))\n    + \"</p>\\r\\n                </li>\\r\\n                <li class=\\\"movie-card__info--item\\\">\\r\\n                    <h3 class=\\\"movie-card__info--title\\\">Popularity</h3>\\r\\n                    <p class=\\\"movie-card__content--item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":57},\"end\":{\"line\":14,\"column\":71}}}) : helper)))\n    + \"</p>\\r\\n                </li>\\r\\n                <li class=\\\"movie-card__info--item\\\">\\r\\n                    <h3 class=\\\"movie-card__info--title\\\">Original Title</h3>\\r\\n                    <p class=\\\"movie-card__content--item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":57},\"end\":{\"line\":18,\"column\":75}}}) : helper)))\n    + \"</p>\\r\\n                </li>\\r\\n                <li class=\\\"movie-card__info--item\\\">\\r\\n                    <h3 class=\\\"movie-card__info--title\\\">Genre</h3>\\r\\n                    <p class=\\\"movie-card__content--item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":57},\"end\":{\"line\":22,\"column\":67}}}) : helper)))\n    + \"</p>\\r\\n            </ul>\\r\\n        <button type=\\\"button\\\" class=\\\"play-trailer\\\" data-id=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":59},\"end\":{\"line\":24,\"column\":65}}}) : helper)))\n    + \" data-name=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":76},\"end\":{\"line\":24,\"column\":85}}}) : helper)))\n    + \">Watch Trailer</button>\\r\\n        <h3 class=\\\"movie-card__about\\\">About</h3>\\r\\n        <div class=\\\"movie-card__about--content\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":48},\"end\":{\"line\":26,\"column\":60}}}) : helper)))\n    + \"</div>\\r\\n        <div class=\\\"button-wrapper\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"modal-button modal-button-watched\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":85},\"end\":{\"line\":28,\"column\":91}}}) : helper)))\n    + \"\\\" data-action=\\\"add-to-watched\\\">Add to\\r\\n                watched</button>\\r\\n            <button type=\\\"button\\\" class=\\\"modal-button modal-button-queue\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":83},\"end\":{\"line\":30,\"column\":89}}}) : helper)))\n    + \"\\\" data-action=\\\"add-to-queue\\\">Add to\\r\\n                queue</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}